sudo: required
services:
- docker
before_script:
- pip install --user awscli
- export PATH=$PATH:$HOME/.local/bin
script:
- eval $(aws ecr get-login --no-include-email --region us-east-1)
- docker build -t mitchhankins/swolemate .
- docker tag mitchhankins/swolemate:latest 080024658700.dkr.ecr.us-east-1.amazonaws.com/mitchhankins/swolemate:latest
- docker push 080024658700.dkr.ecr.us-east-1.amazonaws.com/mitchhankins/swolemate:latest
env:
  global:
  - secure: oWSipKVhCwlvlXGeTb2xJYRVXw41khlorLmeYAHkVK6TaGSGApJR/hccxhWQe3WhyH+Xl383gFAtOkSNQoKgE5GKe1n55ouyfMqhilfNhWCjqelBESCngBRqiyUTHbEhrj0e+Qw6dLmlQMpQ13mJyrC5YZeWY6zIm7/T+q97RksdEG6liZCe1A6yB5xFm5NWZhkZAqB5zBegrEiviVxJ8IeK5oNX4W9NuA+oLXpJaMwNFfDRd/OOvyr5oVlTB/X442E8GJEsmNmqKvZMy8eUbDmXwUGr37J+FyNmwKiYkZC0LereFsDz/kLe21+lvTklhUXOhc/R8HmC3uAiGqP3GR4YHvoVUymSDZC/EFLKQBXTKtrIDLkBHRxPOOXFmB6FqYLB7o34xwXt+8NYZkUx2tWLJXnNSEdt4bbHiF0mYn9LDIkxBje9rDpqUr0ckfYzlOiunJfzcFbp9UFKBN1bGiNYzXRgSE4SjG0fMpPEq0gkiqsmed5SVFqCLOAFOD4JJOZjsLJfvNaeJsl9BsPZTOEGrXDzt+ShTULrtg87r6IodJsFXxWp9FP8pCZImXTOa/aWMcXt9tM5f1YS+/pzlbYM7hHHK0BAED5ZTVaN5WQczAjxdLA/zkwJKdGnp5okl/Pn8If6aHtX+9E8Mha40Sa64CIjInCsgx7hioKMP1g=
  - secure: T3DixKR0bj/HQLk4PtudhuqwqjmtLLP8v+jjaOedyu3VbpR2YaojsexTVhP66qdgtX+om3TTrlDISIaefxzF7ys0u9DlAJPPtvPLEMkgWZ2gLq4exktGaIlWjWS6QMMdjJtqBMTuGswUm/fZW9tkxocaswTMhnc+sio6o9Gkl1EFs5uUUGq4XU7LZ3y5ofa90duw2JOZzqnabTSOZmm1TEsy3D4DaKMWre64kwEt/7b2KKznVDjvSMWELQZEQtI9YCKldSbd4uHHF1lm2LbzgNqZQkwLxDismBHvQlbeDCIQGb7LJNSpI6CvY7HD5eBUDBBeCnAZWS5S8N7X+Opmkjma76l/c1FgiU3R5K2rYPO4mbJ4jWREIr5MEUGyrUddHFPwcYEMzxQ6LbVgsQl7RiNm9rmYN66p48Y1tTfQpnz5h1yMEF4/5CR967NdeO21V5cnsQwnnGkyMd6dEUO7MfJF5ifTecCzmB09g6KCPaU/+OnnA3wIB4/FCuTi8pG1wb1yQD0zQbY7zfSL81Sa7umycPVUdfD7iw7xPlwlS+NU+hPlYskDDCvwwxxf5v8rgCqZw4hMpfzV+cAKlQBJAmBTEwyHO7mKdkSKw0IQgOhpCerltKltDQdUY9dTXnBsJiDBdioaavOlyeR1sR17lGf1hDdct5f32WTdFJvY9sA=
deploy:
  provider: elasticbeanstalk
  access_key_id: AKIAJ7JECBIABUSFT3GQ
  secret_access_key:
    secure: MA93LZBKx7Hx3WobbF0ii3h1IBpwaIV/ClVKceaH0GWyRnb2kyXaoLKpBLxv0JjkIwFzRhs8GpMc6/Y9BI1uQVug08uzCtXj1q0cIO6aP6bcSBXm8JFdTMbQcQ+yYa5yZqipzpUc0ww/eThMy0LiKRCMXja81aVw6g8wGwzIMsvcqw5D2zvvjvaV7lpLPNHS1bjlIceBkdio+rBqJ3uGywgc1uyljdOMDPzde5DflN8zoI6dbWY/CLsQg54TQpd5JQxOqiJZ0O5ErL3Qbo4wW1SrtlmnZlYCKVU736GFE1rWfJKW9dokR1lR5c3c5HBw3m6lTcEl8Fg9/kWvERAocT7UIR4CxLplL5EYMVbOfu7Lwn6ahXHoYIYPVhfcFTTZA6coPWfj3u7QdO1qZPovz5QdNk/G7o+2rcmZePSGO7LQahVeU3ehUyoduxgddOH0Kq5Lq4+vS+nthcFmpXW6R1cbGFVQrfpQhhaS5bFozq6la6v59pDtM15n+foFN4dv8qEFPF3LokAE8UYnbwTkWpC0Ae8gxcz2Teizmmc0c9Ohfyzv6ZJgb1H8+dDIXDwEjsXoiovpiSHwe83HghcOAIuTjb3ytW0GO4MVbqv1QHdt9ve4O10R2f9z5Y+cpZX1MVOgA2Uk86CIVNnIcHMBCuibstmnzPK0nRdOsr+3hgU=
  region: us-west-2
  bucket_name: swolemate
  app: SwoleMate
  env: Swolemate-dev
  on:
    repo: IronCoderXYZ/SwoleMate
